README for DYN-PHY NUOPC prototype
----------------------------------

Show field reference sharing between two components.

Description:

  A one-way coupled system with a single driver and two model components.

  The ATM driver component uses the default run sequence to implement coupling
  between DYN and PHY components. 
  
  The connector component, PHY to DYN, is explicitly added by the driver.
  
  Both DYN and PHY components use a simple two-phase initialization,
  consisting of advertise and realize.
  
  Both DYN and PHY components set SharePolicyField="share" when adverising
  the field with StandardName="PHYEX". This instructs the NUOP_Connector to
  implement the connection via reference sharing for this field.
  

Build:
  - Set environment variable ESMFMKFILE to point to the esmf.mk of your ESMF
    installation.
  - gmake
  
Execution:
  - Optionally set environment variable ESMF_RUNTIME_COMPLIANCECHECK to ON.
  - mpirun -np X ./esmApp (where X is the total number of PETs, typically 4)
  
Output:
  - PET*.Log files containing compliance checker output if turned on.
  - The prototype outputs time stepping information to stdout.

Code structure:
  - Makefile    - Makefile that is based on the standard esmf.mk mechanism.
  - dyn.F90     - The DYN component, specializing generic NUOPC_Model.
  - phy.F90     - The PHY component, specializing generic NUOPC_Model.
  - atm.F90     - The ATM component, specializing generic NUOPC_Driver.
  - esmApp.F90  - ESM application.
